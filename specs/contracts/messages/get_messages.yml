description: メッセージ一覧取得のコントラクト
name: get_messages_contract
priority: 1

request:
  method: GET
  url: /api/messages
  queryParameters:
    page: 0
    size: 20

response:
  status: 200
  headers:
    Content-Type: application/json
  body:
    content:
      - id: 1
        code: "MSG_001"
        content: "Message 1"
        createdAt: "2024-01-01T00:00:00Z"
        updatedAt: "2024-01-01T00:00:00Z"
      - id: 2
        code: "MSG_002"
        content: "Message 2"
        createdAt: "2024-01-01T01:00:00Z"
        updatedAt: "2024-01-01T01:00:00Z"
    page:
      size: 20
      number: 0
      totalElements: 2
      totalPages: 1
  matchers:
    body:
      - path: $.content
        type: by_type
        minOccurrence: 0
      - path: $.content[*].id
        type: by_type
      - path: $.content[*].code
        type: by_regex
        value: "^[a-zA-Z0-9_-]+$"
      - path: $.content[*].content
        type: by_type
      - path: $.content[*].createdAt
        type: by_regex
        value: "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}.*$"
      - path: $.content[*].updatedAt
        type: by_regex
        value: "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}.*$"
      - path: $.page.size
        type: by_type
      - path: $.page.number
        type: by_type
      - path: $.page.totalElements
        type: by_type
      - path: $.page.totalPages
        type: by_type
